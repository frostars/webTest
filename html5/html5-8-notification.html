<meta charset="utf-8" />
<title>HTML5-创建桌面提醒-notifications</title>

<input type="button" value="验证授权" onclick="init();" />
<input type="button" value="弹出消息" onclick="notify();" />

<script>
var miao = 5;

function init(){
	//判断是否允许弹出提示框
	if(window.webkitNotifications){
		window.webkitNotifications.requestPermission();
	}
}

function notify(){
	//判断是否支持webkitNotifications(chrome22以上不支持)
	if(window.webkitNotifications){
		//判断是否已经授权
		if(window.webkitNotifications.checkPermission() == 0){
			var popup = window.webkitNotifications.createNotification('test.png','弹窗标题','这里是弹窗内容');
			popup.show();
		} else{
			window.webkitNotifications.requestPermission();
		}
	} else{
		//notification object
		var notification = new Notification('我的消息',{
			body : '内容',
			icon : 'test.png',
			tag : {} 	// 可以加一个tag
		});
		notification.show();
	}
}
</script>